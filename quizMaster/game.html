<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>Trivia Quiz (OpenTDB)</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <link rel="stylesheet" href="quiz.css">
  <script src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
  <script type="text/javascript">
    // 위젯 초기화: 페이지 기본언어를 'en'으로 두면 영어 => 한국어 번역이 더 안정적이다.
    function googleTranslateElementInit() {
    	new google.translate.TranslateElement({
    		pageLanguage: 'en', autoDisplay: false
    	}, 'google_translate_element');
    }
    
    // 위젯의 언어 select를 찾아 'ko'로 강제 세팅
    function forceTranslateKo(){
    	var sel = document.querySelector('.goog-te-combo');
    	if (sel && sel.value !== 'ko'){
    		sel.value = 'ko';
    		sel.dispatchEvent(new Event('change'));
    	}
    }
    
    // 동적으로 문제/보기가 갱신된 뒤 번역을 다시 트리거
    function retriggerTranslateSoon(){
    	// 위젯 로드/DOM 갱신 타이밍을 고려해 약간의 지연 후 트리거
    	setTimeout(forceTranslateKo, 120);
    }
  </script>
  
</head>
<body>
  <div class="container">
    <div class="card fade-in">
      <h2>Trivia Quiz</h2>
	    <div class="controls">
	      <div class="field sm-3">
            <label>카테고리</label>
            <select id="category">
              <option value="">Any</option>
              <option value="9">General Knowledge</option>
              <option value="10">Entertainment: Books</option>
              <option value="11">Entertainment: Film</option>
              <option value="12">Entertainment: Music</option>
              <option value="13">Entertainment: Musicals &amp; Theatres</option>
              <option value="14">Entertainment: Television</option>
              <option value="15">Entertainment: Video Games</option>
              <option value="16">Entertainment: Board Games</option>
              <option value="17">Science &amp; Nature</option>
              <option value="18">Science: Computers</option>
              <option value="19">Science: Mathematics</option>
              <option value="20">Mythology</option>
              <option value="21">Sports</option>
              <option value="22">Geography</option>
              <option value="23">History</option>
              <option value="24">Politics</option>
              <option value="25">Art</option>
              <option value="26">Celebrities</option>
              <option value="27">Animals</option>
              <option value="28">Vehicles</option>
              <option value="29">Entertainment: Comics</option>
              <option value="30">Science: Gadgets</option>
              <option value="31">Entertainment: Japanese Anime &amp; Manga</option>
              <option value="32">Entertainment: Cartoon &amp; Animations</option>
            </select>
          </div>
          <div class="field sm-2">
            <label>문제 유형</label>
            <select id="qtype">
              <option value="">Any</option>
              <option value="multiple">객관식</option>
              <option value="boolean">True / False</option>
            </select>
          </div>
          <div class="field sm-2">
            <label>난이도</label>
            <select id="difficulty">
              <option value="">Any</option>
              <option value="easy">Easy</option>
              <option value="medium">Medium</option>
              <option value="hard">Hard</option>
            </select>
          </div>
          <div class="field sm-2">
            <label>문항 수</label>
            <input id="amount" type="number" min="1" max="20" value="5" />
          </div>
          <div class="field sm-3" style="align-self:end">
            <button id="startBtn" class="button" style="width:100%">시작</button>
          </div>
        </div>
		
		<div class="hud">
		  <span class="badge">진행 <strong id="progress">0 / 0</strong></span>
		  <span class="badge">점수 <strong id="score">0</strong></span>
		</div>
		
		<div class="question" id="question"></div>
		<div class="answers" id="answers"></div>
		
		<div class="footer-actions">
		  <button id="nextBtn" class="button" style="display:none;">다음 문제</button>
          <button id="restartBtn" class="button" style="display:none;">다시 시작</button>
		</div>
     </div>
     <div id="google_translate_element" style="position:fixed; right:8px; bottom:8px; z-index:9999;"></div>
  </div>

  <!-- JS 파일 연결 -->
  <script src="quizMaster_logic.js"></script>
 
</body>
</html>

